apiVersion: v0.1
workloads:
  symphony:
    runtime: podman
    agent: agent_A
    restartPolicy: ALWAYS    
    tags:
      - key: owner
        value: Symphony
    configs:
      bin_config: bin_config
    files:
      - mountPoint: "/symphony-agent.json"
        binaryData: "{{bin_config}}"
    runtimeConfig: |
      image: ghcr.io/eclipse-symphony/symphony-api:0.48-proxy.39
      commandOptions: ["-e","CONFIG=/symphony-agent.json"]
configs:
  bin_config: ewogICJzaXRlSW5mbyI6IHsKICAgICJzaXRlSWQiOiAibXktYWdlbnQiLAogICAgImN1cnJlbnRTaXRlIjogewogICAgICAiYmFzZVVybCI6ICIiLAogICAgICAidXNlcm5hbWUiOiAiIiwKICAgICAgInBhc3N3b3JkIjogIiIKICAgIH0KICB9LAogICJhcGkiOiB7CiAgICAicHVic3ViIjogewogICAgICAic2hhcmVkIjogdHJ1ZSwKICAgICAgInByb3ZpZGVyIjogewogICAgICAgICJ0eXBlIjogInByb3ZpZGVycy5wdWJzdWIubWVtb3J5IiwKICAgICAgICAiY29uZmlnIjoge30KICAgICAgfQogICAgfSwKICAgICJrZXlsb2NrIjogewogICAgICAic2hhcmVkIjogdHJ1ZSwKICAgICAgInByb3ZpZGVyIjogeyAgICAgIAogICAgICAgICJ0eXBlIjogInByb3ZpZGVycy5rZXlsb2NrLm1lbW9yeSIsCiAgICAgICAgImNvbmZpZyI6IHsKICAgICAgICAgICJtb2RlIjogIkdsb2JhbCIsCiAgICAgICAgICAiY2xlYW5JbnRlcnZhbCIgOiAzMCwKICAgICAgICAgICJwdXJnZUR1cmF0aW9uIiA6IDQzMjAwCiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgInZlbmRvcnMiOiBbCiAgICAgIHsKICAgICAgICAidHlwZSI6ICJ2ZW5kb3JzLmVjaG8iLAogICAgICAgICJyb3V0ZSI6ICJncmVldGluZ3MiLAogICAgICAgICJtYW5hZ2VycyI6IFtdCiAgICAgIH0sCiAgICAgIHsKICAgICAgICAidHlwZSI6ICJ2ZW5kb3JzLnNvbHV0aW9uIiwKICAgICAgICAibG9vcEludGVydmFsIjogMTUsCiAgICAgICAgInJvdXRlIjogInNvbHV0aW9uIiwKICAgICAgICAibWFuYWdlcnMiOiBbCiAgICAgICAgICB7CiAgICAgICAgICAgICJuYW1lIjogInNvbHV0aW9uLW1hbmFnZXIiLAogICAgICAgICAgICAidHlwZSI6ICJtYW5hZ2Vycy5zeW1waG9ueS5zb2x1dGlvbiIsCiAgICAgICAgICAgICJwcm9wZXJ0aWVzIjogewogICAgICAgICAgICAgICJwcm92aWRlcnMucGVyc2lzdGVudHN0YXRlIjogIm1lbS1zdGF0ZSIsICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICJwcm92aWRlcnMuY29uZmlnIjogIm1vY2stY29uZmlnIiwgIAogICAgICAgICAgICAgICJwcm92aWRlcnMuc2VjcmV0IjogIm1vY2stc2VjcmV0IiwKICAgICAgICAgICAgICAicHJvdmlkZXJzLmtleWxvY2siOiAibWVtLWtleWxvY2siLAogICAgICAgICAgICAgICJpc1RhcmdldCI6ICJ0cnVlIiwKICAgICAgICAgICAgICAidGFyZ2V0TmFtZXMiOiAiYW5rYWlvcy10YXJnZXQiLAogICAgICAgICAgICAgICJwb2xsLmVuYWJsZWQiOiAidHJ1ZSIgICAgICAgICAgICAgIAogICAgICAgICAgICB9LAogICAgICAgICAgICAicHJvdmlkZXJzIjogewogICAgICAgICAgICAgICJtZW0tc3RhdGUiOiB7CiAgICAgICAgICAgICAgICAidHlwZSI6ICJwcm92aWRlcnMuc3RhdGUubWVtb3J5IiwKICAgICAgICAgICAgICAgICJjb25maWciOiB7fQogICAgICAgICAgICAgIH0sICAgICAKICAgICAgICAgICAgICAibWVtLWtleWxvY2siOiB7CiAgICAgICAgICAgICAgICAidHlwZSI6ICJwcm92aWRlcnMua2V5bG9jay5tZW1vcnkiLAogICAgICAgICAgICAgICAgImNvbmZpZyI6IHsKICAgICAgICAgICAgICAgICAgIm1vZGUiIDogIlNoYXJlZCIKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9LCAgICAgICAgIAogICAgICAgICAgICAgICJtb2NrLWNvbmZpZyI6IHsKICAgICAgICAgICAgICAgICJ0eXBlIjogInByb3ZpZGVycy5jb25maWcubW9jayIsCiAgICAgICAgICAgICAgICAiY29uZmlnIjoge30KICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICJtb2NrLXNlY3JldCI6IHsKICAgICAgICAgICAgICAgICJ0eXBlIjogInByb3ZpZGVycy5zZWNyZXQubW9jayIsCiAgICAgICAgICAgICAgICAiY29uZmlnIjoge30KICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICJhbmthaW9zIjp7CiAgICAgICAgICAgICAgICAidHlwZSI6ICJwcm92aWRlcnMudGFyZ2V0LnJ1c3QiLAogICAgICAgICAgICAgICAgImNvbmZpZyI6IHsKICAgICAgICAgICAgICAgICAgIm5hbWUiOiAiYW5rYWlvcy10eXBlIiwKICAgICAgICAgICAgICAgICAgImxpYkZpbGUiOiAiL2V4dGVuc2lvbnMvbGliYW5rYWlvcy5zbyIsCiAgICAgICAgICAgICAgICAgICJsaWJIYXNoIjogIjdhOGUxZGQ4N2ExYTliZGVlMzBlNGUzYTgxNTc3MTQ4NjFkNzBkY2I4Nzg2ZmRhNTdmMmMwMWFlOTlhMmUwNDciCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgXQogICAgICB9CiAgICBdCiAgfSwKICAiYmluZGluZ3MiOiBbCiAgICB7CiAgICAgICJ0eXBlIjogImJpbmRpbmdzLm1xdHQiLAogICAgICAiY29uZmlnIjogewogICAgICAgICJicm9rZXJBZGRyZXNzIjogInRjcDovL2xvY2FsaG9zdDoxODgzIiwKICAgICAgICAiY2xpZW50SUQiOiAibXktYWdlbnQiLAogICAgICAgICJyZXF1ZXN0VG9waWMiOiAiY29hLXJlcXVlc3QiLAogICAgICAgICJyZXNwb25zZVRvcGljIjogImNvYS1yZXNwb25zZSIKICAgICAgfQogICAgfQogIF0KfQ==